(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,t,a){e.exports=a(93)},48:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),s=a.n(l),i=(a(48),a(1)),o=a(2),c=a(4),u=a(3),p=a(5),m=a(16),d=a(9),h=a.n(d),y=function e(){var t=this;Object(i.a)(this,e),this.signup=function(e,a,n){return t.service.post("/signup",{username:e,password:a,email:n}).then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/currentUser").then((function(e){return e.data}))},this.logout=function(){return t.service.get("/logout").then((function(e){return e.data}))},this.service=h.a.create({baseURL:"".concat("https://tipafriend.herokuapp.com","/api/auth"),withCredentials:!0})},f=a(7),g=a(6);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleLogout=function(e){a.props.logout(),window.location="/home"},a.state={loggedInUser:null},a.service=new y,a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.state,{loggedInUser:e.userInSession}))}},{key:"render",value:function(){return this.state.loggedInUser?r.a.createElement("nav",{className:"nav-style"},r.a.createElement(g.b,{to:"/home"},r.a.createElement("img",{src:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571309273/tripTip/logo_color_yrmwds.png",alt:"Logo"})),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.b,{to:"/place/add"},"A\xf1ade una recomendaci\xf3n")),r.a.createElement("li",null,"|"),r.a.createElement("li",null,r.a.createElement("a",{onClick:this.handleLogout},"Logout")),r.a.createElement("li",null,"|"),r.a.createElement("li",null,r.a.createElement(g.b,{to:"/myprofile/"+this.state.loggedInUser._id},"Visita tu perfil, ",this.state.loggedInUser.username)))):r.a.createElement("div",null,r.a.createElement("nav",{className:"nav-style"},r.a.createElement(g.b,{to:"/home"},r.a.createElement("img",{src:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571309273/tripTip/logo_color_yrmwds.png",alt:"Logo"})),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.b,{to:"/home"},"Home")),r.a.createElement("li",null,"|"),r.a.createElement("li",null,r.a.createElement(g.b,{to:"/signup"},"Signup")),r.a.createElement("li",null,"|"),r.a.createElement("li",null,r.a.createElement(g.b,{to:"/login"},"Login")))))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,r=a.state.email;a.service.signup(t,n,r).then((function(e){a.setState({username:"",password:"",email:""}),a.props.getUser(e.user)})).catch((function(e){a.setState({username:t,password:n,email:"",error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(f.a)({},n,r))},a.state={username:"",password:"",email:""},a.service=new y,a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"signup"},"Por favor, introduce tus datos para registrarte"),r.a.createElement("form",{onSubmit:this.handleFormSubmit,"content-type":"multipart/forma-data"},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Nombre de usuario:"),r.a.createElement("input",{className:"input-city",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Contrase\xf1a:"),r.a.createElement("input",{className:"input-city",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Email:"),r.a.createElement("input",{className:"input-city",type:"text",name:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{className:"button-form",type:"submit",value:"Sign up"})),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then((function(e){a.setState({username:t,password:n,error:!1}),window.location="/home",a.props.getUser(e)})).catch((function(e){a.setState({username:t,password:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(f.a)({},n,r))},a.state={username:"",password:""},a.service=new y,a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"signup"},"Por favor, introduce tus datos para entrar en tu perfil"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{className:"input-city",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{className:"input-city",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{className:"button-form",type:"submit",value:"Login"})),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(n.Component),O=a(13),j=a.n(O),k=function(e){return"object"===typeof e&&null!==e},T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({address:e,latitude:null,longitude:null,errorMessage:""})},a.handleSelect=function(e){var t=e.split(", "),n=t[0],r=t[t.length-1];a.setState({isGeocoding:!0,address:e}),Object(O.geocodeByAddress)(e).then((function(e){return Object(O.getLatLng)(e[0])})).then((function(e){var t=e.lat,l=e.lng;a.setState({latitude:t,longitude:l,city:n,country:r,isGeocoding:!1})})).catch((function(e){a.setState({isGeocoding:!1}),console.log("error",e)}))},a.handleCloseClick=function(){a.setState({address:"",latitude:null,longitude:null,city:null,country:null})},a.handleError=function(e,t){console.log("Error from Google Maps API",e),a.setState({errorMessage:e},(function(){t()}))},a.state={address:"",errorMessage:"",latitude:null,longitude:null,isGeocoding:!1,city:"",country:""},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.address,n=t.errorMessage,l=t.latitude,s=t.longitude,i=t.isGeocoding,o=t.city,c=t.country;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{onChange:this.handleChange,value:a,onSelect:this.handleSelect,onError:this.handleError,shouldFetchSuggestions:a.length>2,searchOptions:{language:"es",types:["(cities)"]}},(function(t){var a=t.getInputProps,n=t.suggestions,l=t.getSuggestionItemProps;return r.a.createElement("div",{className:"Demo__search-bar-container"},r.a.createElement("div",{className:"Demo__search-input-container"},r.a.createElement("input",a({placeholder:"Busca un lugar...",className:"Demo__search-input"})),e.state.address.length>0&&r.a.createElement("button",{className:"Demo__clear-button",onClick:e.handleCloseClick},"x")),n.length>0&&r.a.createElement("div",{className:"Demo__autocomplete-container"},n.map((function(e){var t=function(){for(var e=[],t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return a.forEach((function(t){if("string"===typeof t)e.push(t);else{if(!k(t))throw new Error("`classnames` only accepts string or object as arguments");Object.keys(t).forEach((function(a){t[a]&&e.push(a)}))}})),e.join(" ")}("Demo__suggestion-item",{"Demo__suggestion-item--active":e.active});return r.a.createElement("div",l(e,{className:t}),r.a.createElement("strong",null,e.formattedSuggestion.mainText)," ",r.a.createElement("small",null,e.formattedSuggestion.secondaryText))}))))})),n.length>0&&r.a.createElement("div",{className:"Demo__error-message"},this.state.errorMessage),(l&&s&&o&&c||i)&&r.a.createElement("div",null,i?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(m.a,{to:"/map/"+l+"/"+s+"/"+o+"/"+c}))))}}]),t}(r.a.Component),S=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"principal-search"},r.a.createElement("h1",null,"trip",r.a.createElement("span",null,"&"),"tip"),r.a.createElement("div",{className:"main-headline"},r.a.createElement(T,null),r.a.createElement("h2",null,"Busca recomendaciones en tu ciudad de destino")))}}]),t}(n.Component),C=a(18),_=a.n(C),N=[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}];function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L=function(e){return'\n  <div\n    style={{\n      width: "200px",\n      height: "200px"\n    }}\n  >\n    <div style="font-size: 16px;"><a href="https://tipafriend.herokuapp.com/place/'.concat(e._id,'">\n    ').concat(e.address.split(",").slice(0,1),"\n  </a></div>\n  </div>")},P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getAll=function(){a.setState({places:null}),h.a.get("".concat("https://tipafriend.herokuapp.com","/api/search/all")).then((function(e){a.setState({places:e.data.filter((function(e){return e.address.toLowerCase().includes(a.state.city.toLowerCase())}))})}))},a.handleApiLoaded=function(e,t,a){var n=[],r=[];a.forEach((function(a){a.comments.length>0&&(n.push(new t.Marker({position:{lat:a.location.coordinates[1],lng:a.location.coordinates[0]},icon:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571213592/tripTip/pin_1_bhxwkr.png",map:e})),r.push(new t.InfoWindow({content:L(a)})))})),n.forEach((function(t,a){t.addListener("click",(function(){r[a].open(e,t)}))}))},a.state={latitude:null,longitude:null,zoom:11,places:null,city:null,country:null,displayMap:!0,displayList:!1,displayAll:!0,displaySee:!1,displaySleep:!1,displayEat:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"showMap",value:function(){this.setState(I({},this.state,{displayMap:!0,displayList:!1}))}},{key:"showList",value:function(){this.setState(I({},this.state,{displayMap:!1,displayList:!0}))}},{key:"showAll",value:function(){this.setState(I({},this.state,{displayAll:!0,displaySee:!1,displaySleep:!1,displayEat:!1}))}},{key:"showSee",value:function(){this.setState(I({},this.state,{displayAll:!1,displaySee:!0,displaySleep:!1,displayEat:!1}))}},{key:"showSleep",value:function(){this.setState(I({},this.state,{displayAll:!1,displaySee:!1,displaySleep:!0,displayEat:!1}))}},{key:"showEat",value:function(){this.setState(I({},this.state,{displayAll:!1,displaySee:!1,displaySleep:!1,displayEat:!0}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.latitude,a=this.props.match.params.longitude,n=this.props.match.params.city,r=this.props.match.params.country,l=n.split("%20").join(" "),s=r.split("%20").join(" ");fetch("/map/".concat(t,"/").concat(a,"/").concat(n,"/").concat(r)).then((function(n){e.setState({latitude:t,longitude:a,city:l,country:s})})).catch((function(t){e.setState({latitude:null,longitude:null,city:null,country:null})})),this.getAll()}},{key:"componentDidUpdate",value:function(e){if(this.props.match.params.latitude!==e.match.params.latitude&&this.props.match.params.longitude!==e.match.params.longitude){var t=this.props.match.params.city,a=this.props.match.params.country,n=t.split("%20").join(" "),r=a.split("%20").join(" ");this.setState({latitude:this.props.match.params.latitude,longitude:this.props.match.params.longitude,city:n,country:r}),this.getAll()}}},{key:"render",value:function(){var e=this,t=this.state,a=t.latitude,n=t.longitude,l=t.zoom,s=t.places,i=t.city,o=t.country,c={lat:+a,lng:+n},u={styles:N};return a&&n&&s&&i&&o?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"nav-search"},r.a.createElement("div",{className:"button-view"},r.a.createElement("button",{onClick:function(){return e.showMap()}},"Mapa"),r.a.createElement("button",{onClick:function(){return e.showList()}},"Lista")),r.a.createElement(T,null),r.a.createElement("div",{className:"social-share"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"whatsapp://send?text=Visita%20mis%20recomendaciones%20https://tipafriend.herokuapp.com/map/"+a+"/"+n+"/"+i+"/"+o,target:"_blank"},r.a.createElement("img",{src:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571323398/tripTip/whatsapp_qobzhg.png"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"http://www.facebook.com/sharer.php?u=https://tipafriend.herokuapp.com/map/"+a+"/"+n+"/"+i+"/"+o,target:"_blank"},r.a.createElement("img",{src:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571323403/tripTip/facebook_xnml8w.png"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://twitter.com/share?url=https://tipafriend.herokuapp.com/map/"+a+"/"+n+"/"+i+"/"+o,target:"_blank"},r.a.createElement("img",{src:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571323396/tripTip/twitter_hw9jn1.png"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"mailto:?Subject=Visita%20mis%20recomendaciones%20&amp;Body=I%20saw%20this%20and%20thought%20of%20you!%20 https://tipafriend.herokuapp.com/map/"+a+"/"+n+"/"+i+"/"+o},r.a.createElement("img",{src:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571323411/tripTip/email_kqpin0.png"})))))),this.state.displayMap&&r.a.createElement("div",{className:"map"},s&&r.a.createElement(_.a,{zoom:l,center:c,options:u,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(t){var a=t.map,n=t.maps;return e.handleApiLoaded(a,n,s)}})),this.state.displayList&&r.a.createElement("div",{className:"list"},r.a.createElement("div",{className:"button-list"},r.a.createElement("button",{onClick:function(){return e.showAll()}},"Todo"),r.a.createElement("button",{onClick:function(){return e.showEat()}},"Comer"),r.a.createElement("button",{onClick:function(){return e.showSleep()}},"Dormir"),r.a.createElement("button",{onClick:function(){return e.showSee()}},"Visitar")),this.state.displayAll&&this.state.places.map((function(e){if(e.comments.length>0)return r.a.createElement("div",{className:"list-detail",key:e._id},r.a.createElement(g.b,{to:"/place/"+e._id},e.address.split(",").slice(0,1)))})),this.state.displayEat&&this.state.places.filter((function(e){return e.type.toLowerCase().includes("eat".toLowerCase())})).map((function(e){if(e.comments.length>0)return r.a.createElement("div",{className:"list-detail",key:e._id},r.a.createElement(g.b,{to:"/place/"+e._id},e.address.split(",").slice(0,1)))})),this.state.displaySleep&&this.state.places.filter((function(e){return e.type.toLowerCase().includes("sleep".toLowerCase())})).map((function(e){if(e.comments.length>0)return r.a.createElement("div",{className:"list-detail",key:e._id},r.a.createElement(g.b,{to:"/place/"+e._id},e.address.split(",").slice(0,1)))})),this.state.displaySee&&this.state.places.filter((function(e){return e.type.toLowerCase().includes("see".toLowerCase())})).map((function(e){if(e.comments.length>0)return r.a.createElement("div",{className:"list-detail",key:e._id},r.a.createElement("p",{className:"strong"},r.a.createElement(g.b,{to:"/place/"+e._id},e.address.split(",").slice(0,1))))})))):r.a.createElement("div",{className:"spinner"},r.a.createElement("img",{src:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571303052/tripTip/loading_oscuro_bcukel.gif"}))}}]),t}(n.Component),D=function(e){return"object"===typeof e&&null!==e},A=[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}],M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleApiLoaded=function(e,t,n){new t.Marker({position:{lat:a.state.latitude,lng:a.state.longitude},icon:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571213592/tripTip/pin_1_bhxwkr.png",map:e})},a.state={latitude:a.props.latitude,longitude:a.props.longitude,zoom:15},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.latitude,n=t.longitude,l=t.zoom,s={lat:+a,lng:+n},i={styles:A};return r.a.createElement("div",{className:"map map-reduce"},r.a.createElement(_.a,{google:this.props.google,center:s,zoom:l,options:i,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(t){var a=t.map,n=t.maps;return e.handleApiLoaded(a,n)}}))}}]),t}(n.Component),U=function e(){var t=this;Object(i.a)(this,e),this.create=function(e,a,n,r,l){return t.service.post("/create",{address:e,latitude:a,longitude:n,comment:r,type:l}).then((function(e){return e.data}))},this.update=function(e,a){return t.service.put("/edit",{comment:e,commentId:a}).then((function(e){return e.data}))},this.delete=function(e,a){return t.service.put("/delete",{placeId:e,commentId:a}).then((function(e){return e.data}))},this.service=h.a.create({baseURL:"".concat("https://tipafriend.herokuapp.com","/api/place"),withCredentials:!0})},q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.latitude,n=a.state.longitude,r=a.state.address,l=a.state.comment,s=a.state.type;a.service.create(r,t,n,l,s).then((function(e){a.setState({comment:"",placeCreated:!0}),window.location="/home"})).catch((function(e){a.setState({comment:"",error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(f.a)({},n,r))},a.state={latitude:a.props.latitude,longitude:a.props.longitude,address:a.props.address,comment:"",type:"See",placeCreated:null},a.service=new U,a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return this.state.placeCreated?r.a.createElement("h4",null,"\xa1Recomendaci\xf3n creada!"):r.a.createElement("div",{className:"form-add"},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Categor\xeda:"),r.a.createElement("select",{type:"text",name:"type",value:this.state.type,onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",{value:"Eat"},"Comer"),r.a.createElement("option",{value:"Sleep"},"Dormir"),r.a.createElement("option",{value:"See"},"Visitar"))),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Recomendaci\xf3n:"),r.a.createElement("input",{className:"input-add",type:"textarea",name:"comment",value:this.state.comment,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{className:"button-form",type:"submit",value:"Create"})))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({address:e,latitude:null,longitude:null,errorMessage:""})},a.handleSelect=function(e){a.setState({isGeocoding:!0,address:e}),Object(O.geocodeByAddress)(e).then((function(e){return Object(O.getLatLng)(e[0])})).then((function(e){var t=e.lat,n=e.lng;a.setState({latitude:t,longitude:n,isGeocoding:!1})})).catch((function(e){a.setState({isGeocoding:!1}),console.log("error",e)}))},a.handleCloseClick=function(){a.setState({address:"",latitude:null,longitude:null})},a.handleError=function(e,t){console.log("Error from Google Maps API",e),a.setState({errorMessage:e},(function(){t()}))},a.state={address:"",errorMessage:"",latitude:null,longitude:null,isGeocoding:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.address,n=t.errorMessage,l=t.latitude,s=t.longitude,i=t.isGeocoding;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"search-add"},r.a.createElement("h4",null,"Busca el sitio que quieres recomendar"),r.a.createElement(j.a,{onChange:this.handleChange,value:a,onSelect:this.handleSelect,onError:this.handleError,searchOptions:{language:"es"},shouldFetchSuggestions:a.length>2},(function(t){var a=t.getInputProps,n=t.suggestions,l=t.getSuggestionItemProps;return r.a.createElement("div",{className:"Demo__search-bar-container"},r.a.createElement("div",{className:"Demo__search-input-container"},r.a.createElement("input",a({placeholder:"Busca tu recomendaci\xf3n",className:"Demo__search-input"})),e.state.address.length>0&&r.a.createElement("button",{className:"Demo__clear-button",onClick:e.handleCloseClick},"x")),n.length>0&&r.a.createElement("div",{className:"Demo__autocomplete-container"},n.map((function(e){var t=function(){for(var e=[],t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return a.forEach((function(t){if("string"===typeof t)e.push(t);else{if(!D(t))throw new Error("`classnames` only accepts string or object as arguments");Object.keys(t).forEach((function(a){t[a]&&e.push(a)}))}})),e.join(" ")}("Demo__suggestion-item",{"Demo__suggestion-item--active":e.active});return r.a.createElement("div",l(e,{className:t}),r.a.createElement("strong",null,e.formattedSuggestion.mainText)," ",r.a.createElement("small",null,e.formattedSuggestion.secondaryText))}))))}))),n.length>0&&r.a.createElement("div",{className:"Demo__error-message"},this.state.errorMessage),(a&&l&&s||i)&&r.a.createElement(r.a.Fragment,null,i?r.a.createElement("div",null):r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{latitude:l,longitude:s}),r.a.createElement(q,{address:a,latitude:l,longitude:s}))))}}]),t}(r.a.Component),G=[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}],R=function(e){return'\n  <div\n    style={{\n      width: "200px",\n      height: "200px"\n    }}\n  >\n    <div style="font-size: 16px;"><a href="https://tipafriend.herokuapp.com/place/'.concat(e._id,'">\n    ').concat(e.address.split(",").slice(0,1),"\n  </a></div>\n  </div>")},B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleApiLoaded=function(e,t,a){var n=[],r=[];a.forEach((function(a){n.push(new t.Marker({position:{lat:a.location.coordinates[1],lng:a.location.coordinates[0]},icon:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571213592/tripTip/pin_1_bhxwkr.png",map:e})),r.push(new t.InfoWindow({content:R(a)}))})),n.forEach((function(t,a){t.addListener("click",(function(){r[a].open(e,t)}))}))},a.state={latitude:40,longitude:-3.7,places:a.props.places},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.latitude,n=t.longitude,l=t.places,s={lat:+a,lng:+n},i={styles:G};return r.a.createElement("div",{className:"map map-profile"},l&&r.a.createElement(_.a,{defaultZoom:0,defaultCenter:s,options:i,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(t){var a=t.map,n=t.maps;return e.handleApiLoaded(a,n,l)}}))}}]),t}(n.Component);function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={places:a.props.places,displayAll:!0,displaySee:!1,displaySleep:!1,displayEat:!1,city:a.props.city},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"selectCity",value:function(e){if(""!==e.target.value){var t=this.state.places,a=e.target.value,n=t.filter((function(e){return e.address.toLowerCase().includes(a.toLowerCase())}));this.setState({places:n})}else this.setState({places:this.props.places})}},{key:"showAll",value:function(){this.setState(z({},this.state,{displayAll:!0,displaySee:!1,displaySleep:!1,displayEat:!1}))}},{key:"showSee",value:function(){this.setState(z({},this.state,{displayAll:!1,displaySee:!0,displaySleep:!1,displayEat:!1}))}},{key:"showSleep",value:function(){this.setState(z({},this.state,{displayAll:!1,displaySee:!1,displaySleep:!0,displayEat:!1}))}},{key:"showEat",value:function(){this.setState(z({},this.state,{displayAll:!1,displaySee:!1,displaySleep:!1,displayEat:!0}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.city,n=t.userId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"nav-profile"},r.a.createElement("div",{className:"social-share profile"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"whatsapp://send?text=Visita%20mis%20recomendaciones%20https://tipafriend.herokuapp.com/profile/list/"+a+"/"+n,target:"_blank"},r.a.createElement("img",{src:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571323398/tripTip/whatsapp_qobzhg.png"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"http://www.facebook.com/sharer.php?u=https://tipafriend.herokuapp.com/profile/list/"+a+"/"+n,target:"_blank"},r.a.createElement("img",{src:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571323403/tripTip/facebook_xnml8w.png"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://twitter.com/share?url=https://tipafriend.herokuapp.com/profile/list/"+a+"/"+n,target:"_blank"},r.a.createElement("img",{src:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571323396/tripTip/twitter_hw9jn1.png"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"mailto:?Subject=Visita%20mis%20recomendaciones%20&amp;Body=I%20saw%20this%20and%20thought%20of%20you!%20 https://tipafriend.herokuapp.com/profile/list/"+a+"/"+n},r.a.createElement("img",{src:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571323411/tripTip/email_kqpin0.png"}))))),r.a.createElement("input",{className:"input-city",type:"search",defaultValue:this.state.city,placeholder:this.state.city,onChange:function(t){return e.selectCity(t)}}),r.a.createElement("p",null,"Busca un destino")),r.a.createElement("div",{className:"list"},r.a.createElement("div",{className:"button-list"},r.a.createElement("button",{onClick:function(){return e.showAll()}},"Todo"),r.a.createElement("button",{onClick:function(){return e.showEat()}},"Comer"),r.a.createElement("button",{onClick:function(){return e.showSleep()}},"Dormir"),r.a.createElement("button",{onClick:function(){return e.showSee()}},"Visitar")),this.state.displayAll&&this.state.places.map((function(e){return r.a.createElement("div",{className:"list-detail",key:e._id},r.a.createElement("p",{className:"strong"},e.address.split(",").slice(0,1)),e.comments.map((function(e){return r.a.createElement("p",{className:"comment",key:e._id},"Recomendaci\xf3n: ",e.text)})))})),this.state.displayEat&&this.state.places.filter((function(e){return e.type.toLowerCase().includes("eat".toLowerCase())})).map((function(e){return r.a.createElement("div",{className:"list-detail",key:e._id},r.a.createElement("p",{className:"strong"},e.address.split(",").slice(0,1)),e.comments.map((function(e){return r.a.createElement("p",{className:"comment",key:e._id},"Recomendaci\xf3n: ",e.text)})))})),this.state.displaySleep&&this.state.places.filter((function(e){return e.type.toLowerCase().includes("sleep".toLowerCase())})).map((function(e){return r.a.createElement("div",{className:"list-detail",key:e._id},r.a.createElement("p",{className:"strong"},e.address.split(",").slice(0,1)),e.comments.map((function(e){return r.a.createElement("p",{className:"comment",key:e._id},"Recomendaci\xf3n: ",e.text)})))})),this.state.displaySee&&this.state.places.filter((function(e){return e.type.toLowerCase().includes("see".toLowerCase())})).map((function(e){return r.a.createElement("div",{className:"list-detail",key:e._id},r.a.createElement("p",{className:"strong"},e.address.split(",").slice(0,1)),e.comments.map((function(e){return r.a.createElement("p",{className:"comment",key:e._id},"Recomendaci\xf3n: ",e.text)})))}))))}}]),t}(n.Component);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getInfo=function(){var e=a.props.match.params.id;h.a.get("".concat("https://tipafriend.herokuapp.com","/api/search/").concat(e)).then((function(e){a.setState({places:e.data.markers})}))},a.state={userId:null,places:null,displayMap:!0,displayList:!1,city:null,list:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"showMap",value:function(){this.setState(H({},this.state,{displayMap:!0,displayList:!1}))}},{key:"showList",value:function(){this.setState(H({},this.state,{displayMap:!1,displayList:!0}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id,a=this.props.match.params.city,n=this.props.match.params.list;fetch("/profile/".concat(n,"/").concat(a,"/").concat(t)).then((function(r){e.setState({userId:t,city:a,list:n})})).catch((function(t){e.setState({userId:null,city:null})})),n&&this.showList(),this.getInfo()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"button-view"},r.a.createElement("button",{onClick:function(){return e.showMap()}},"Mapa"),r.a.createElement("button",{onClick:function(){return e.showList()}},"Lista")),this.state.userId&&this.state.places&&r.a.createElement(r.a.Fragment,null,this.state.displayMap&&r.a.createElement(B,{places:this.state.places}),this.state.displayList&&r.a.createElement(W,{places:this.state.places,city:this.state.city,userId:this.state.userId})))}}]),t}(n.Component);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={places:a.props.places,displayAll:!0,displaySee:!1,displaySleep:!1,displayEat:!1,city:a.props.city,userId:a.props.userId},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"selectCity",value:function(e){if(""!==e.target.value){var t=this.state.places,a=e.target.value,n=t.filter((function(e){return e.address.toLowerCase().includes(a.toLowerCase())}));this.setState({places:n})}else this.setState({places:this.props.places})}},{key:"showAll",value:function(){this.setState(K({},this.state,{displayAll:!0,displaySee:!1,displaySleep:!1,displayEat:!1}))}},{key:"showSee",value:function(){this.setState(K({},this.state,{displayAll:!1,displaySee:!0,displaySleep:!1,displayEat:!1}))}},{key:"showSleep",value:function(){this.setState(K({},this.state,{displayAll:!1,displaySee:!1,displaySleep:!0,displayEat:!1}))}},{key:"showEat",value:function(){this.setState(K({},this.state,{displayAll:!1,displaySee:!1,displaySleep:!1,displayEat:!0}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.city,n=t.userId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"nav-profile"},r.a.createElement("div",{className:"social-share profile"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"whatsapp://send?text=Visita%20mis%20recomendaciones%20https://tipafriend.herokuapp.com/profile/list/"+a+"/"+n,target:"_blank"},r.a.createElement("img",{src:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571323398/tripTip/whatsapp_qobzhg.png"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"http://www.facebook.com/sharer.php?u=https://tipafriend.herokuapp.com/profile/list/"+a+"/"+n,target:"_blank"},r.a.createElement("img",{src:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571323403/tripTip/facebook_xnml8w.png"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://twitter.com/share?url=https://tipafriend.herokuapp.com/profile/list/"+a+"/"+n,target:"_blank"},r.a.createElement("img",{src:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571323396/tripTip/twitter_hw9jn1.png"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"mailto:?Subject=Visita%20mis%20recomendaciones%20&amp;Body=I%20saw%20this%20and%20thought%20of%20you!%20 https://tipafriend.herokuapp.com/profile/list/"+a+"/"+n},r.a.createElement("img",{src:"https://res.cloudinary.com/dctu91qjy/image/upload/v1571323411/tripTip/email_kqpin0.png"}))))),r.a.createElement("input",{className:"input-city",type:"search",defaultValue:this.state.city,placeholder:this.state.city,onChange:function(t){return e.selectCity(t)}}),r.a.createElement("p",null,"Busca entre tus viajes")),r.a.createElement("div",{className:"list"},r.a.createElement("div",{className:"button-list"},r.a.createElement("button",{onClick:function(){return e.showAll()}},"Todo"),r.a.createElement("button",{onClick:function(){return e.showEat()}},"Comer"),r.a.createElement("button",{onClick:function(){return e.showSleep()}},"Dormir"),r.a.createElement("button",{onClick:function(){return e.showSee()}},"Visitar")),this.state.displayAll&&this.state.places.map((function(e){return r.a.createElement("div",{className:"list-detail",key:e._id},r.a.createElement(g.b,{to:"/myprofile/"+n+"/"+e._id},e.address),e.comments.map((function(e){return r.a.createElement("p",{className:"comment",key:e._id},"Recomendaci\xf3n: ",e.text)})))})),this.state.displayEat&&this.state.places.filter((function(e){return e.type.toLowerCase().includes("eat".toLowerCase())})).map((function(e){return r.a.createElement("div",{className:"list-detail",key:e._id},r.a.createElement(g.b,{to:"/myprofile/"+n+"/"+e._id},e.address),e.comments.map((function(e){return r.a.createElement("p",{className:"comment",key:e._id},"Recomendaci\xf3n: ",e.text)})))})),this.state.displaySleep&&this.state.places.filter((function(e){return e.type.toLowerCase().includes("sleep".toLowerCase())})).map((function(e){return r.a.createElement("div",{className:"list-detail",key:e._id},r.a.createElement(g.b,{to:"/myprofile/"+n+"/"+e._id},e.address),e.comments.map((function(e){return r.a.createElement("p",{className:"comment",key:e._id},"Recomendaci\xf3n: ",e.text)})))})),this.state.displaySee&&this.state.places.filter((function(e){return e.type.toLowerCase().includes("see".toLowerCase())})).map((function(e){return r.a.createElement("div",{className:"list-detail",key:e._id},r.a.createElement(g.b,{to:"/myprofile/"+n+"/"+e._id},e.address),e.comments.map((function(e){return r.a.createElement("p",{className:"comment",key:e._id},"Recomendaci\xf3n: ",e.text)})))}))))}}]),t}(n.Component);function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ee=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getInfo=function(){var e=a.props.match.params.id;h.a.get("".concat("https://tipafriend.herokuapp.com","/api/search/").concat(e)).then((function(e){a.setState({places:e.data.markers})}))},a.state={userId:null,places:null,displayMap:!0,displayList:!1,city:null,list:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"showMap",value:function(){this.setState(Y({},this.state,{displayMap:!0,displayList:!1}))}},{key:"showList",value:function(){this.setState(Y({},this.state,{displayMap:!1,displayList:!0}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id,a=this.props.match.params.city,n=this.props.match.params.list;fetch("/profile/".concat(n,"/").concat(a,"/").concat(t)).then((function(r){e.setState({userId:t,city:a,list:n})})).catch((function(t){e.setState({userId:null,city:null})})),n&&this.showList(),this.getInfo()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"button-view profile"},r.a.createElement("button",{onClick:function(){return e.showMap()}},"Mapa"),r.a.createElement("button",{onClick:function(){return e.showList()}},"Lista")),this.state.userId&&this.state.places&&r.a.createElement(r.a.Fragment,null,this.state.displayMap&&r.a.createElement(B,{places:this.state.places}),this.state.displayList&&r.a.createElement(Q,{places:this.state.places,city:this.state.city,userId:this.state.userId})))}}]),t}(n.Component),te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getPlace=function(e){h.a.get("".concat("https://tipafriend.herokuapp.com","/api/search/place/").concat(e)).then((function(e){a.setState({place:e.data})}))},a.state={placeId:null,place:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.placeId;fetch("/place/".concat(t,"/")).then((function(a){e.setState({placeId:t})})).catch((function(t){e.setState({placeId:null})})),this.getPlace(t)}},{key:"render",value:function(){var e=this.state.place;return r.a.createElement("div",{className:"container"},e&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,e.address.split(",").slice(0,1)),r.a.createElement("p",null,e.address.split(",").slice(1).join(",")),e.comments.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:"google",href:"https://www.google.com/maps/search/"+e.address,target:"_blank"},"Busca en Google"),r.a.createElement("h6",null,"Recomendaciones"),r.a.createElement("div",{className:"detail-comment",key:t._id},r.a.createElement("p",null,t.authorId[0].username,r.a.createElement("span",null,t.text))))}))))}}]),t}(n.Component),ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getPlace=function(e){h.a.get("".concat("https://tipafriend.herokuapp.com","/api/search/place/").concat(e)).then((function(e){a.setState({place:e.data})}))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.comment,n=a.state.place.comments.filter((function(e){return e.authorId[0]._id.includes(a.state.userId)}));a.service.update(t,n).then((function(e){a.setState({comment:""}),window.location="/home"})).catch((function(e){a.setState({comment:""})}))},a.handleDelete=function(){var e=a.state.place.comments.filter((function(e){return e.authorId[0]._id.includes(a.state.userId)})),t=a.state.placeId;a.service.delete(t,e),window.location="/home"},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(f.a)({},n,r))},a.state={placeId:null,place:null,userId:null,displayEdit:!1,comment:""},a.service=new U,a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"showEdit",value:function(){this.setState({displayEdit:!this.state.displayEdit})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.placeId,a=this.props.match.params.userId;fetch("/myprofile/".concat(a,"/").concat(t)).then((function(n){e.setState({placeId:t,userId:a})})).catch((function(t){e.setState({placeId:null,userId:null})})),this.getPlace(t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.place,n=t.userId;t.placeId;return r.a.createElement("div",{className:"container"},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,a.address.split(",").slice(0,1)),r.a.createElement("p",null,a.address.split(",").slice(1).join(",")),a.comments.filter((function(e){return e.authorId[0]._id.includes(n)})).map((function(t){return r.a.createElement("div",{className:"personal-details",key:t._id},!e.state.displayEdit&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:"google",href:"https://www.google.com/maps/search/"+a.address,target:"_blank"}," ","Busca en Google"),r.a.createElement("div",{className:"detail-comment"}," ",r.a.createElement("p",null,"Recomendaci\xf3n: ",r.a.createElement("span",null,t.text))),r.a.createElement("button",{className:"button-form",onClick:function(){return e.showEdit()}},"Editar"),r.a.createElement("button",{className:"button-form",onClick:function(){return e.handleDelete()}},"Eliminar")),e.state.displayEdit&&r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Recomendaci\xf3n:"),r.a.createElement("input",{className:"input-add",type:"text",name:"comment",value:e.state.comment,placeholder:t.text,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{className:"button-form",type:"submit",value:"Actualizar"}))))}))))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getUser=function(e){a.setState({loggedInUser:e})},a.logout=function(){a.service.logout().then((function(){a.setState({loggedInUser:null})}))},a.state={loggedInUser:null},a.service=new y,a.fetchUser(),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"fetchUser",value:function(){var e=this;return this.service.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App"},r.a.createElement(E,{userInSession:this.state.loggedInUser,logout:this.logout}),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/home",render:function(){return r.a.createElement(S,null)}}),r.a.createElement(m.b,{exact:!0,path:"/map/:latitude/:longitude/:city/:country",render:function(e){return r.a.createElement(P,e)}}),r.a.createElement(m.b,{exact:!0,path:"/place/add",render:function(){return r.a.createElement(F,null)}}),r.a.createElement(m.b,{exact:!0,path:"/place/:placeId",render:function(e){return r.a.createElement(te,e)}}),r.a.createElement(m.b,{exact:!0,path:"/myprofile/:userId/:placeId",render:function(e){return r.a.createElement(ae,e)}}),r.a.createElement(m.b,{exact:!0,path:"/myprofile/:id",render:function(e){return r.a.createElement(ee,e)}}),r.a.createElement(m.b,{exact:!0,path:"/profile/:list/:city/:id",render:function(e){return r.a.createElement(Z,e)}}),r.a.createElement(m.b,{exact:!0,path:"/profile/:id",render:function(e){return r.a.createElement(Z,e)}})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App"},r.a.createElement(E,{userInSession:this.state.loggedInUser,logout:this.logout}),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/home",render:function(){return r.a.createElement(S,null)}}),r.a.createElement(m.b,{exact:!0,path:"/map/:latitude/:longitude/:city/:country",render:function(e){return r.a.createElement(P,e)}}),r.a.createElement(m.b,{exact:!0,path:"/profile/:list/:city/:id",render:function(e){return r.a.createElement(Z,e)}}),r.a.createElement(m.b,{exact:!0,path:"/profile/:id",render:function(e){return r.a.createElement(Z,e)}}),r.a.createElement(m.b,{exact:!0,path:"/place/:placeId",render:function(e){return r.a.createElement(te,e)}}),r.a.createElement(m.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(v,{getUser:e.getUser})}}),r.a.createElement(m.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(w,{getUser:e.getUser})}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(g.a,null,r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.728d6edb.chunk.js.map