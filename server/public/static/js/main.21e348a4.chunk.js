(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,t,a){e.exports=a(97)},48:function(e,t,a){},49:function(e,t,a){},67:function(e,t,a){},76:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),o=a.n(l),s=(a(48),a(1)),i=a(2),c=a(4),u=a(3),m=a(5),p=(a(49),a(16)),d=a(14),y=a.n(d),f=function e(){var t=this;Object(s.a)(this,e),this.signup=function(e,a,n,r){return t.service.post("/signup",{username:e,password:a,email:n,photo:r}).then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/currentUser").then((function(e){return e.data}))},this.logout=function(){return t.service.get("/logout").then((function(e){return e.data}))},this.service=y.a.create({baseURL:"".concat("https://tipafriend.herokuapp.com","/api/auth"),withCredentials:!0})},h=a(15),g=a(12);a(67);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleLogout=function(e){a.props.logout()},a.state={loggedInUser:null},a.service=new f,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.state,{loggedInUser:e.userInSession}))}},{key:"render",value:function(){return this.state.loggedInUser?r.a.createElement("nav",{className:"nav-style"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.b,{to:"/place/add"},"Add a place")),r.a.createElement("li",null,r.a.createElement("a",{onClick:this.handleLogout},"Logout")),r.a.createElement("li",null,r.a.createElement(g.b,{to:"/profile/"+this.state.loggedInUser._id},"Your profile, ",this.state.loggedInUser.username)))):r.a.createElement("div",null,r.a.createElement("nav",{className:"nav-style"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.b,{to:"/signup"},"Signup")),r.a.createElement("li",null,r.a.createElement(g.b,{to:"/login"},"Login")))))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,r=a.state.email,l=a.state.photo;a.service.signup(t,n,r,l).then((function(e){a.setState({username:"",password:"",email:"",photo:""}),a.props.getUser(e.user)})).catch((function(e){a.setState({username:t,password:n,email:"",error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a.state={username:"",password:"",email:"",photo:""},a.service=new f,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Welcome!, create your account next:"),r.a.createElement("form",{onSubmit:this.handleFormSubmit,"content-type":"multipart/forma-data"},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Photo"),r.a.createElement("input",{type:"file",name:"photo",value:this.state.photo,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",value:"Sign up"})),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then((function(e){a.setState({username:t,password:n,error:!1}),a.props.getUser(e)})).catch((function(e){a.setState({username:t,password:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a.state={username:"",password:""},a.service=new f,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Please, login to our site"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",value:"Login"})),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(n.Component),j=a(10),O=a.n(j),w=function(e){return"object"===typeof e&&null!==e},k=(a(76),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({address:e,latitude:null,longitude:null,errorMessage:""})},a.handleSelect=function(e){a.setState({isGeocoding:!0,address:e}),Object(j.geocodeByAddress)(e).then((function(e){return Object(j.getLatLng)(e[0])})).then((function(e){var t=e.lat,n=e.lng;a.setState({latitude:t,longitude:n,isGeocoding:!1})})).catch((function(e){a.setState({isGeocoding:!1}),console.log("error",e)}))},a.handleCloseClick=function(){a.setState({address:"",latitude:null,longitude:null})},a.handleError=function(e,t){console.log("Error from Google Maps API",e),a.setState({errorMessage:e},(function(){t()}))},a.state={address:"",errorMessage:"",latitude:null,longitude:null,isGeocoding:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.address,n=t.errorMessage,l=t.latitude,o=t.longitude,s=t.isGeocoding;return r.a.createElement("div",null,r.a.createElement(O.a,{onChange:this.handleChange,value:a,onSelect:this.handleSelect,onError:this.handleError,shouldFetchSuggestions:a.length>2,searchOptions:{types:["(cities)"]}},(function(t){var a=t.getInputProps,n=t.suggestions,l=t.getSuggestionItemProps;return r.a.createElement("div",{className:"Demo__search-bar-container"},r.a.createElement("div",{className:"Demo__search-input-container"},r.a.createElement("input",a({placeholder:"Search Places...",className:"Demo__search-input"})),e.state.address.length>0&&r.a.createElement("button",{className:"Demo__clear-button",onClick:e.handleCloseClick},"x")),n.length>0&&r.a.createElement("div",{className:"Demo__autocomplete-container"},n.map((function(e){var t=function(){for(var e=[],t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return a.forEach((function(t){if("string"===typeof t)e.push(t);else{if(!w(t))throw new Error("`classnames` only accepts string or object as arguments");Object.keys(t).forEach((function(a){t[a]&&e.push(a)}))}})),e.join(" ")}("Demo__suggestion-item",{"Demo__suggestion-item--active":e.active});return r.a.createElement("div",l(e,{className:t}),r.a.createElement("strong",null,e.formattedSuggestion.mainText)," ",r.a.createElement("small",null,e.formattedSuggestion.secondaryText))}))))})),n.length>0&&r.a.createElement("div",{className:"Demo__error-message"},this.state.errorMessage),(l&&o||s)&&r.a.createElement("div",null,s?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(p.a,{to:"/map/"+l+"/"+o}))))}}]),t}(r.a.Component)),S=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(k,null)}}]),t}(n.Component),x=a(18),C=a.n(x),_=[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}],I=function(e){var t=e.text;return r.a.createElement("div",{style:{color:"white",background:"grey",padding:"15px 10px",display:"inline-flex",textAlign:"center",alignItems:"center",justifyContent:"center",borderRadius:"50%",transform:"translate(-50%, -50%)"}},t)},U=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getAll=function(){y.a.get("http://localhost:3010/api/search/all").then((function(e){a.setState({places:e.data})}))},a.state={latitude:null,longitude:null,zoom:11,places:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.latitude,a=this.props.match.params.longitude;fetch("/map/".concat(t,"/").concat(a)).then((function(n){e.setState({latitude:t,longitude:a})})).catch((function(t){e.setState({latitude:null,longitude:null})})),this.getAll()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.latitude!==e.match.params.latitude&&this.props.match.params.longitude!==e.match.params.longitude&&this.setState({latitude:this.props.match.params.latitude,longitude:this.props.match.params.longitude})}},{key:"render",value:function(){var e=this.state,t=e.latitude,a=e.longitude,n=e.zoom,l=e.places,o={lat:+t,lng:+a},s={styles:_};return console.log(l),r.a.createElement("div",{className:"container"},r.a.createElement(k,null),r.a.createElement("div",{style:{height:"70vh",width:"90%"}},r.a.createElement(C.a,{google:this.props.google,center:o,defaultZoom:n,options:s,yesIWantToUseGoogleMapApiInternals:!0},l.map((function(e){return r.a.createElement(I,{key:"".concat(e._id),lat:"".concat(e.location.coordinates[1]),lng:"".concat(e.location.coordinates[0])})})))))}}]),t}(n.Component),D=function(e){return"object"===typeof e&&null!==e},P=(a(96),[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}]),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={latitude:a.props.latitude,longitude:a.props.longitude,zoom:15,places:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.latitude,a=e.longitude,n=e.zoom,l={lat:+t,lng:+a},o={styles:P};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:{height:"70vh",width:"90%"}},r.a.createElement(C.a,{google:this.props.google,center:l,zoom:n,options:o,yesIWantToUseGoogleMapApiInternals:!0})))}}]),t}(n.Component),M=function e(){var t=this;Object(s.a)(this,e),this.create=function(e,a,n,r){return t.service.post("/create",{address:e,latitude:a,longitude:n,comment:r}).then((function(e){return e.data}))},this.service=y.a.create({baseURL:"".concat("https://tipafriend.herokuapp.com","/api/place"),withCredentials:!0})},A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.latitude,n=a.state.longitude,r=a.state.address,l=a.state.comment;a.service.create(r,t,n,l).then((function(e){a.setState({comment:"",placeCreated:!0})})).catch((function(e){a.setState({comment:"",error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a.state={latitude:a.props.latitude,longitude:a.props.longitude,address:a.props.address,comment:"",placeCreated:null},a.service=new M,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state.placeCreated?r.a.createElement("div",null,"\xa1Place created!"):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Tip:"),r.a.createElement("input",{type:"text",name:"comment",value:this.state.comment,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",value:"Create"})))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({address:e,latitude:null,longitude:null,errorMessage:""})},a.handleSelect=function(e){a.setState({isGeocoding:!0,address:e}),Object(j.geocodeByAddress)(e).then((function(e){return Object(j.getLatLng)(e[0])})).then((function(e){var t=e.lat,n=e.lng;a.setState({latitude:t,longitude:n,isGeocoding:!1})})).catch((function(e){a.setState({isGeocoding:!1}),console.log("error",e)}))},a.handleCloseClick=function(){a.setState({address:"",latitude:null,longitude:null})},a.handleError=function(e,t){console.log("Error from Google Maps API",e),a.setState({errorMessage:e},(function(){t()}))},a.state={address:"",errorMessage:"",latitude:null,longitude:null,isGeocoding:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.address,n=t.errorMessage,l=t.latitude,o=t.longitude,s=t.isGeocoding;return r.a.createElement("div",null,r.a.createElement(O.a,{onChange:this.handleChange,value:a,onSelect:this.handleSelect,onError:this.handleError,shouldFetchSuggestions:a.length>2},(function(t){var a=t.getInputProps,n=t.suggestions,l=t.getSuggestionItemProps;return r.a.createElement("div",{className:"Demo__search-bar-container"},r.a.createElement("div",{className:"Demo__search-input-container"},r.a.createElement("input",a({placeholder:"Search Places...",className:"Demo__search-input"})),e.state.address.length>0&&r.a.createElement("button",{className:"Demo__clear-button",onClick:e.handleCloseClick},"x")),n.length>0&&r.a.createElement("div",{className:"Demo__autocomplete-container"},n.map((function(e){var t=function(){for(var e=[],t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return a.forEach((function(t){if("string"===typeof t)e.push(t);else{if(!D(t))throw new Error("`classnames` only accepts string or object as arguments");Object.keys(t).forEach((function(a){t[a]&&e.push(a)}))}})),e.join(" ")}("Demo__suggestion-item",{"Demo__suggestion-item--active":e.active});return r.a.createElement("div",l(e,{className:t}),r.a.createElement("strong",null,e.formattedSuggestion.mainText)," ",r.a.createElement("small",null,e.formattedSuggestion.secondaryText))}))))})),n.length>0&&r.a.createElement("div",{className:"Demo__error-message"},this.state.errorMessage),(a&&l&&o||s)&&r.a.createElement("div",null,s?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(N,{latitude:l,longitude:o}),r.a.createElement(A,{address:a,latitude:l,longitude:o}))))}}]),t}(r.a.Component),L=[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}],F=function(e){var t=e.text;return r.a.createElement("div",{style:{color:"white",background:"grey",padding:"15px 10px",display:"inline-flex",textAlign:"center",alignItems:"center",justifyContent:"center",borderRadius:"50%",transform:"translate(-50%, -50%)"}},t)},z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onClick=function(e){var t=e.x,a=e.y,n=e.lat,r=e.lng,l=e.event;return console.log(t,a,n,r,l)},a.state={latitude:40,longitude:-3.7,zoom:0,places:a.props.places},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.latitude,a=e.longitude,n=e.zoom,l=e.places,o={lat:+t,lng:+a},s={styles:L};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:{height:"70vh",width:"90%"}},r.a.createElement(C.a,{google:this.props.google,center:o,defaultZoom:n,options:s,yesIWantToUseGoogleMapApiInternals:!0},l.map((function(e){return r.a.createElement(F,{key:"".concat(e._id),lat:"".concat(e.location.coordinates[1]),lng:"".concat(e.location.coordinates[0])})})))))}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={places:a.props.places},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.places.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("p",null,e.address),e.comments.map((function(e){return r.a.createElement("p",{key:e._id},"Comment: ",e.text)})))})))}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getInfo=function(){var e=a.props.match.params.id;y.a.get("http://localhost:3010/api/search/".concat(e)).then((function(e){a.setState({places:e.data.markers})}))},a.state={userId:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;fetch("/profile/".concat(t)).then((function(a){e.setState({userId:t})})).catch((function(t){e.setState({userId:null})})),this.getInfo()}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.userId&&this.state.places&&r.a.createElement("div",null,r.a.createElement(z,{places:this.state.places}),r.a.createElement(W,{places:this.state.places})))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getUser=function(e){a.setState({loggedInUser:e})},a.logout=function(){a.service.logout().then((function(){a.setState({loggedInUser:null})}))},a.state={loggedInUser:null},a.service=new f,a.fetchUser(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"fetchUser",value:function(){var e=this;return this.service.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{to:"/home"}),r.a.createElement("div",null,r.a.createElement(v,{userInSession:this.state.loggedInUser,logout:this.logout}),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/home",render:function(){return r.a.createElement(S,null)}}),r.a.createElement(p.b,{exact:!0,path:"/map/:latitude/:longitude",render:function(e){return r.a.createElement(U,e)}}),r.a.createElement(p.b,{exact:!0,path:"/place/add",render:function(){return r.a.createElement(G,null)}}),r.a.createElement(p.b,{exact:!0,path:"/profile/:id",render:function(e){return r.a.createElement(R,e)}})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{to:"/login"}),r.a.createElement("div",{className:"App"},r.a.createElement(v,{userInSession:this.state.loggedInUser,logout:this.logout}),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(T,{getUser:e.getUser})}}),r.a.createElement(p.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(E,{getUser:e.getUser})}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(g.a,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.21e348a4.chunk.js.map